@using SSIMS.Models

@{
    ViewBag.Title = "Index";
    List<Department> departments = ViewBag.Departments;
    List<string> heads = ViewBag.HeadList;
    List<string> reps = ViewBag.RepList;
    List<string> auths = ViewBag.Auth;
    int count = ViewBag.DeptCount;
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            Collection Point
        </th>
        <th>
            Dept Head
        </th>
        <th>
            Dept Rep
        </th>
        <th>
            Authorized Head
        </th>
        <th>
            Dept Name
        </th>
        <th>
           Phone
        </th>
        <th>
           Fax
        </th>
        <th></th>
    </tr>

@for (int i=0; i < count-1;i++) {
    <tr>
        <td>
           @departments[i].DeptName
        </td>
        <td>
            @heads[i]
        </td>
        <td>
            @reps[i]
        </td>
        <td>
            @auths[i]
        </td>
        <td>
            @departments[i].ID
        </td>
        <td>
            @departments[i].PhoneNumber
        </td>
        <td>
            @departments[i].FaxNumber
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=departments[i].ID }) |
            @Html.ActionLink("Details", "Details", new { id=departments[i].ID }) |
            @Html.ActionLink("Delete", "Delete", new { id=departments[i].ID })
        </td>
    </tr>
}

</table>
